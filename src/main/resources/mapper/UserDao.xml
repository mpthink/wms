<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.think.wms.dao.UserDao">

	<insert id="insertUser" parameterType="User">
		insert into wms_user
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="name != null">name,</if>
			<if test="realName != null">real_name,</if>
			<if test="password != null">password,</if>
			<if test="email != null">email,</if>
			<if test="phone != null">phone,</if>
			<if test="lastLoginTime != null">last_login_time,</if>
			<if test="lastLoginIp != null">last_login_ip,</if>
			<if test="status != 0">status,</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="name != null">#{name,jdbcType=VARCHAR},</if>
			<if test="realName != null">#{realName},</if>
			<if test="password != null">#{password},</if>
			<if test="email != null">#{email},</if>
			<if test="phone != null">#{phone},</if>
			<if test="lastLoginTime != null">#{lastLoginTime},</if>
			<if test="lastLoginIp != null">#{lastLoginIp},</if>
			<if test="status != 0">#{status},</if>
		</trim>
	</insert>
    
    <delete id="deleteUser">
    	delete from 
    		wms_user
    	where 
    		id=#{id}
    </delete>
    
    <update id="updateUser" parameterType="User">
    	update 
    		wms_user
    	<trim prefix="set" suffixOverrides=",">
    		<if test="name != null">name=#{name},</if>
			<if test="realName != null">real_name=#{realName},</if>
			<if test="password != null">password=#{password},</if>
			<if test="email != null">email=#{email},</if>
			<if test="phone != null">phone=#{phone},</if>
			<if test="lastLoginTime != null">last_login_time=#{lastLoginTime},</if>
			<if test="lastLoginIp != null">last_login_ip=#{lastLoginIp},</if>
			<if test="status != 0">status=#{status},</if>
    	</trim>
    	where
    		id=#{id}
    </update>
    
    <select id="queryByUserId" resultType="User" parameterType="int">
        select 
        	*
        from 
        	wms_user
        where
        	id=#{id}
    </select>
    
    <select id="queryByName" resultType="User" parameterType="String">
        select 
        	*
        from 
        	wms_user user
        where
        	name=#{name}
    </select>
    
    <select id="queryByNamePassword" resultType="User">
        select 
        	*
        from 
        	wms_user
        where
        	name=#{name} and password=#{password}
    </select>
    
	<select id="queryAll" resultType="User">
		select 
        	*
        from 
        	wms_user
        order by id
	</select>
</mapper>